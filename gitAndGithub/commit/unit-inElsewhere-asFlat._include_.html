<p><span class="dimmed"><strong><span>Tools → Git and GitHub →
</span></strong></span></p>
<div id="title-and-body">
<div><h4 id="t1l5-saving-a-snapshot"><span>T1L5. Saving a Snapshot</span><a class="fa fa-anchor" href="#t1l5-saving-a-snapshot" onclick="event.stopPropagation()"></a></h4></div>
<div id="main">
<div>
<div class="non-printable">
<div class="border border-success pt-0 ps-1 pb-1 pe-1 border-bottom-0 rounded-top" style="background-color: #e6fff2">
<div class="indented">
<br>
<div id="overview">
<p>After staging, you can now proceed to <strong>save the snapshot, aka creating a <em>commit</em></strong>.</p></div>
<span><small>This lesson covers that part.</small></span></div></div>
<br></div>
<p><strong>Saving a snapshot is called <span class="badge text-dark" style="background-color: rgba(13, 202, 240, 0.2);"><span class="large">committing</span></span> and a saved snapshot is called a <span class="badge text-dark" style="background-color: rgba(13, 202, 240, 0.2);"><span class="large">commit</span></span>.</strong></p>
<p><strong>A Git commit is a full snapshot of your working directory based on the files you have staged</strong>, more precisely, a record of the exact state of all files in the staging area (index) at that moment -- even the files that have not changed since the last commit. This is in contrast to other revision control software that only store the <tooltip><template #content>i.e., the changes made since the last commit</template>delta</tooltip> in a commit. Consequently, a Git commit has all the information it needs to recreate the snapshot of the working directory at the time the commit was created.<br>
<strong>A commit also includes metadata</strong> such as the author, date, and an optional <span class="badge text-dark" style="background-color: rgba(13, 202, 240, 0.2);"><span class="large">commit message</span></span> describing the change.</p>
<box type="important" light>
<p>A Git commit is a snapshot of <em>all</em> tracked files, not simply a delta of <em>what changed since the last commit</em>.</p></box>
<div class="non-printable">
<span style="position: relative; top: 10px; background-color: rgba(255, 0, 0, 0.2);" class="badge rounded-pill text-dark fs-6"><span><span aria-hidden="true" class="fas fa-laptop-code"></span></span> HANDS-ON: Creating your first commit</span>
<div class="indented-level1">
<box type="important" seamless no-icon>
<p>Assuming you have previously staged changes to the <code class="hljs inline no-lang" v-pre>fruits.txt</code>, go ahead and create a commit.</p>
<tabs>
  <tab><template #header>CLI</template>
    <div><p><span style="position: relative; right: 12px; background-color: rgba(255, 0, 0, 0.2); border-radius: 0 0.7em 0.7em 0" class="ps-3 pe-3 pb-1 pt-1 text-dark text-dark"><small><strong>1</strong></small></span> <strong>First, let us do a sanity check</strong> using the <code class="hljs inline no-lang" v-pre>git status</code> command.</p>
<pre><code class="no-line-numbers hljs bash" v-pre><span>git status
</span></code></pre><div class="d-flex">
<div class="me-3">
<span><span><strong><span class="dimmed">⤷</span></strong></span></span></div>
<div class="flex-grow-1">
<pre><code class="no-line-numbers hljs bash" v-pre><span>On branch master
</span><span>
</span><span>No commits yet
</span><span>
</span><span>Changes to be committed:
</span><span>(use <span class="hljs-string">&quot;git rm --cached &lt;file&gt;...&quot;</span> to unstage)
</span><span>  new file:   fruits.txt
</span></code></pre></div></div>
<p><span style="position: relative; right: 12px; background-color: rgba(255, 0, 0, 0.2); border-radius: 0 0.7em 0.7em 0" class="ps-3 pe-3 pb-1 pt-1 text-dark text-dark"><small><strong>2</strong></small></span> <strong>Now, create a commit</strong> using the <code class="hljs inline no-lang" v-pre>commit</code> command. The <code class="hljs inline no-lang" v-pre>-m</code> switch is used to specify the commit message.</p>
<pre><code class="no-line-numbers hljs bash" v-pre><span>git commit -m <span class="hljs-string">&quot;Add fruits.txt&quot;</span>
</span></code></pre><div class="d-flex">
<div class="me-3">
<span><span><strong><span class="dimmed">⤷</span></strong></span></span></div>
<div class="flex-grow-1">
<pre><code class="no-line-numbers hljs bash" v-pre><span>[master (root-commit) d5f91de] Add fruits.txt
</span><span> 1 file changed, 5 insertions(+)
</span><span> create mode 100644 fruits.txt
</span></code></pre></div></div>
<p><span style="position: relative; right: 12px; background-color: rgba(255, 0, 0, 0.2); border-radius: 0 0.7em 0.7em 0" class="ps-3 pe-3 pb-1 pt-1 text-dark text-dark"><small><strong>3</strong></small></span> <strong>Verify the staging area is empty</strong> using the <code class="hljs inline no-lang" v-pre>git status</code> command again.</p>
<pre><code class="no-line-numbers hljs bash" v-pre><span>git status
</span></code></pre><div class="d-flex">
<div class="me-3">
<span><span><strong><span class="dimmed">⤷</span></strong></span></span></div>
<div class="flex-grow-1">
<pre><code class="no-line-numbers hljs bash" v-pre><span>On branch master
</span><span>nothing to commit, working tree clean
</span></code></pre></div></div>
<p><span><span aria-hidden="true" class="fas fa-info-circle"></span></span> Note how the output says <code class="hljs inline no-lang" v-pre>nothing to commit</code> which means the staging area is now empty.</p></div></tab>
  <tab class="d-print-none"><template #header>Sourcetree</template>
    <div><p>Click the <code class="hljs inline no-lang" v-pre>Commit</code> button, enter a commit message (e.g. <code class="hljs inline no-lang" v-pre>add fruits.txt</code>) into the text box, and click <code class="hljs inline no-lang" v-pre>Commit</code>.</p>
<pic eager src="/se-book/gitAndGithub/commit/images/sourcetree_4.png" height="300"></pic>
<p></p></div></tab></tabs>
<p><span style="position: relative; right: 12px; background-color: rgba(255, 0, 0, 0.2); border-radius: 0 0.7em 0.7em 0" class="ps-3 pe-3 pb-1 pt-1 text-dark text-dark"><small><strong><span aria-hidden="true" class="far fa-square-check"></span> done!</strong></small></span></p></box></div></div>
<p><strong>Git commits form a timeline</strong>, as each corresponds to a point in time when you asked Git to take a snapshot of your working directory. Each commit links to at least one previous commit, forming a structure that we can traverse.<br>
<strong>A timeline of commits is called a <span class="badge text-dark" style="background-color: rgba(13, 202, 240, 0.2);"><span class="large">branch</span></span></strong>. By default, Git names the initial branch <code class="hljs inline no-lang" v-pre>master</code> -- though many now use <code class="hljs inline no-lang" v-pre>main</code> instead. You'll learn more about branches in future lessons. For now, just be aware that the commits you create in a new repo will be on a branch called <code class="hljs inline no-lang" v-pre>master</code> (or <code class="hljs inline no-lang" v-pre>main</code>) by default.</p>
<pre class="mermaid">
gitGraph
    %%{init: { 'theme': 'default', 'gitGraph': {'mainBranchName': 'master (or main)'}} }%%
    commit id: "Add fruits.txt"
    commit id: "Update fruits.txt"
    commit id: "Add colours.txt"
    commit id: "..."
</pre>
<p><strong>Git can show you the list of commits</strong> in the Git history.</p>
<div class="non-printable">
<span style="position: relative; top: 10px; background-color: rgba(255, 0, 0, 0.2);" class="badge rounded-pill text-dark fs-6"><span><span aria-hidden="true" class="fas fa-laptop-code"></span></span> HANDS-ON: Viewing the list of commits</span>
<div class="indented-level1">
<box type="important" seamless no-icon>
<p><span style="position: relative; right: 12px; background-color: rgba(255, 0, 0, 0.2); border-radius: 0 0.7em 0.7em 0" class="ps-3 pe-3 pb-1 pt-1 text-dark text-dark"><small><strong>1</strong></small></span> <strong>View the list of commits</strong>, which should show just the one commit you created just now.</p>
<div class="indented-level1">
<tabs>
  <tab><template #header>CLI</template>
    <div><p>You can use the <code class="hljs inline no-lang" v-pre>git log</code> command to see the commit history.</p>
<pre><code class="no-line-numbers hljs bash" v-pre><span>git <span class="hljs-built_in">log</span>
</span></code></pre><div class="d-flex">
<div class="me-3">
<span><span><strong><span class="dimmed">⤷</span></strong></span></span></div>
<div class="flex-grow-1">
<pre><code class="no-line-numbers hljs bash" v-pre><span>commit d5f91de... (HEAD -&gt; master)
</span><span>Author: ... &lt;...@...&gt;
</span><span>Date:   ...
</span><span>
</span><span>Add fruits.txt
</span></code></pre></div></div>
<box type="tip" seamless>
<p>Use the <kbd>Q</kbd> key to exit the output screen of the <code class="hljs inline no-lang" v-pre>git log</code> command.</p></box>
<p><span><span aria-hidden="true" class="fas fa-info-circle"></span></span> Note how the output has some details about the commit you just created. You can ignore most of it for now, but notice it also shows the commit message you provided.</p></div></tab>
  <tab class="d-print-none"><template #header>Sourcetree</template>
    <div><p>Expand the <code class="hljs inline no-lang" v-pre>BRANCHES</code> menu and click on the <code class="hljs inline no-lang" v-pre>master</code> to view the history graph, which contains only one node at the moment, representing the commit you just added. For now, ignore the label <code class="hljs inline no-lang" v-pre>master</code> attached to the commit.</p>
<pic eager src="/se-book/gitAndGithub/commit/images/sourcetree_5.png" height="180"></pic>
<p></p></div></tab></tabs></div>
<p><span style="position: relative; right: 12px; background-color: rgba(255, 0, 0, 0.2); border-radius: 0 0.7em 0.7em 0" class="ps-3 pe-3 pb-1 pt-1 text-dark text-dark"><small><strong>2</strong></small></span> <strong>Create a few more commits</strong> (i.e., a few rounds of add/edit files -&gt; stage -&gt; commit), and observe how the list of commits grows.</p>
<div class="indented-level1">
<tabs>
  <tab><template #header>CLI</template>
    <div><p>Here is an example list of bash commands to add two commits while observing the list of commits</p>
<pre><code class="hljs bash" v-pre><span>$ <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;figs&quot;</span> &gt;&gt; fruits.txt  <span class="hljs-comment"># add another line to fruits.txt</span>
</span><span>$ git add fruits.txt  <span class="hljs-comment"># stage the updated file</span>
</span><span>$ git commit -m <span class="hljs-string">&quot;Insert figs into fruits.txt&quot;</span>  <span class="hljs-comment"># commit the changes</span>
</span><span>$ git <span class="hljs-built_in">log</span>  <span class="hljs-comment"># check commits list</span>
</span><span>
</span><span>$ <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;a file for colours&quot;</span> &gt;&gt; colours.txt  <span class="hljs-comment"># add a colours.txt file</span>
</span><span>$ <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;a file for shapes&quot;</span> &gt;&gt; shapes.txt  <span class="hljs-comment"># add a shapes.txt file</span>
</span><span>$ git add colours.txt shapes.txt  <span class="hljs-comment"># stage both files in one go</span>
</span><span>$ git commit -m <span class="hljs-string">&quot;Add colours.txt, shapes.txt&quot;</span>  <span class="hljs-comment"># commit the changes</span>
</span><span>$ git <span class="hljs-built_in">log</span>  <span class="hljs-comment"># check commits list</span>
</span></code></pre><p>The output of the final <code class="hljs inline no-lang" v-pre>git log</code> should be something like this:</p>
<pre><code class="hljs bash" v-pre><span>commit 18300... (HEAD -&gt; master)
</span><span>Author: ... &lt;...@...&gt;
</span><span>Date:   ...
</span><span>
</span><span>    <span class="highlighted">Add colours.txt, shapes.txt</span>
</span><span>
</span><span>commit 2beda...
</span><span>Author: ... &lt;...@...&gt;
</span><span>Date:   ...
</span><span>
</span><span>    <span class="highlighted">Insert figs into fruits.txt</span>
</span><span>
</span><span>commit d5f91...
</span><span>Author: ... &lt;...@...&gt;
</span><span>Date:   ...
</span><span>
</span><span>    <span class="highlighted">Add colours.txt, shapes.txt</span>
</span></code></pre></div></tab>
  <tab class="d-print-none"><template #header>Sourcetree</template>
    <div><p>To see the list of commits, click on the <code class="hljs inline no-lang" v-pre>History</code> item (listed under the <code class="hljs inline no-lang" v-pre>WORKSPACE</code> section) on the menu on the right edge of Sourcetree.</p>
<pic eager src="/se-book/gitAndGithub/commit/images/sourcetree_8.png"></pic>
<p>After adding two more commits, the list of commits should look something like this:</p>
<pic eager src="/se-book/gitAndGithub/commit/images/sourcetree_7.png" height="150"></pic>
   <p></p></div></tab></tabs></div>
<p><span style="position: relative; right: 12px; background-color: rgba(255, 0, 0, 0.2); border-radius: 0 0.7em 0.7em 0" class="ps-3 pe-3 pb-1 pt-1 text-dark text-dark"><small><strong><span aria-hidden="true" class="far fa-square-check"></span> done!</strong></small></span></p></box></div></div></div>
<div>

<panel class="non-printable" type="secondary" expanded><template #header><p><span><span aria-hidden="true" class="fas fa-diamond-turn-right"></span></span> Related DETOUR: <strong>Updating the Last Commit</strong></p></template>
<div>
<p><strong>Git allows you to amend the most recent commit.</strong> This is useful when you realise there’s something you’d like to change — e.g., fix a typo in the commit message, or to exclude some unintended change from the commit.</p></div>
<p>That aspect is covered in a detour <strong>in the lesson <a href="/se-book/gitAndGithub/interactiveRebase#updateLastCommit"><em>T5L3. Reorganising Commits</em></a></strong>.</p></panel>
<panel class="non-printable" type="secondary" expanded><template #header><p><span><span aria-hidden="true" class="fas fa-diamond-turn-right"></span></span> Related DETOUR: <strong>Resetting Uncommitted Changes</strong></p></template>
<div>
<p><strong>At times, you might need to get rid of uncommitted changes</strong> so that you have a fresh start to the next commit.</p></div>
<p>That aspect is covered in a detour <strong>in the lesson <a href="/se-book/gitAndGithub/reset#resetUncommitedChanges"><em>T4L6. Rewriting History to Start Over</em></a></strong>.</p></panel>
<panel class="non-printable" type="secondary" expanded><template #header><p><span><span aria-hidden="true" class="fas fa-diamond-turn-right"></span></span> Related DETOUR: <strong>Undoing/Deleting Recent Commits</strong></p></template>
<div>
<p><strong>How do you undo or delete the last few commits</strong> if you realise they were incorrect, unnecessary, or done too soon?</p></div>
<p>That aspect is covered in a detour <strong>in the lesson <a href="/se-book/gitAndGithub/reset#undoRecentCommits"><em>T4L6. Rewriting History to Start Over</em></a></strong>.</p></panel></div></div></div>