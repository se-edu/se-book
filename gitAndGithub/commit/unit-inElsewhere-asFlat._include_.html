<div><panel src="/se-book/gitAndGithub/init/unit-inElsewhere-asFlat._include_.html" popup-url="/se-book/gitAndGithub/init"><template #header><p><span><span aria-hidden="true" class="glyphicon glyphicon-education"></span></span> <span class="dimmed">Git &amp; GitHub → Init</span></p></template></panel></div><p></p>
<p><span class="dimmed"><strong><span>Tools → Git and GitHub →
</span></strong></span></p>
<div id="title-and-body">
<div><h4 id="commit-saving-changes-to-history"><span id="commit-saving-changes-to-history" class="anchor"></span><span><code class="hljs inline no-lang" v-pre>commit</code>: Saving changes to history</span><a class="fa fa-anchor" href="#commit-saving-changes-to-history" onclick="event.stopPropagation()"></a></h4></div>
<div id="main">
<div>
<p><strong>After initializing a repository, Git can help you with revision controlling files inside the <em>working directory</em>. However, it is not automatic.</strong> It is up to you to tell Git which of your changes (aka <em>revisions</em>) should be <em>committed</em> to its memory for later use. Saving changes into Git's memory in that way is often called <em>committing</em> and a change saved to the revision history is called a <em>commit</em>.</p>
<box type="definition" seamless>
<div><p><strong>Working directory</strong>: the root directory revision-controlled by Git (e.g., the directory in which the repo was initialized).</p></div></box>
<box type="definition" seamless>
<div><p><strong>Commit</strong> (noun): a change (aka a <em>revision</em>) saved in the Git revision history.<br>
(verb): the act of creating a commit i.e., saving a change in the working directory into the Git revision history.</p></div></box>
<p>Here are the steps you can follow to learn how to work with Git commits:</p>
<p><strong>1. Do some changes to the content inside the <em>working directory</em></strong> e.g., create a file named <code class="hljs inline no-lang" v-pre>fruits.txt</code> in the <code class="hljs inline no-lang" v-pre>things</code> directory and add some dummy text to it.</p>
<p><strong>2. Observe how the file is detected by Git.</strong></p>
<tabs>
  <tab><template #header>SourceTree</template>
    <div><p>The file is shown as ‘unstaged’.</p>
<img src="/se-book/gitAndGithub/commit/images/sourcetree_1.png" height="220">
<p></p></div></tab>
  <tab><template #header>CLI</template>
    <div><p>You can use the <code class="hljs inline no-lang" v-pre>git status</code> command to check the status of the working directory.</p>
<pre><code class="hljs sh" v-pre><span>git status
</span></code></pre><p><span><span aria-hidden="true" class="fas fa-arrow-down"></span></span></p>
<pre><code class="hljs sh" v-pre><span><span class="hljs-comment"># On branch master</span>
</span><span><span class="hljs-comment">#</span>
</span><span><span class="hljs-comment"># Initial commit</span>
</span><span><span class="hljs-comment">#</span>
</span><span><span class="hljs-comment"># Untracked files:</span>
</span><span><span class="hljs-comment">#   (use &quot;git add &lt;file&gt;...&quot; to include in what will be committed)</span>
</span><span><span class="hljs-comment">#</span>
</span><span><span class="hljs-comment">#   a.txt</span>
</span><span>nothing added to commit but untracked files present (use <span class="hljs-string">&quot;git add&quot;</span> to track)
</span></code></pre></div></tab></tabs>
<p><strong>3. Stage the changes to commit</strong>: Although Git has detected the file in the working directory, it will not do anything with the file unless you tell it to. Suppose you want to commit the current changes to the file. First, you should <em>stage</em> the file.</p>
<box type="definition" seamless>
<div><p><strong>Stage</strong> (verb): Instructing Git to prepare a file for committing.</p></div></box>
<tabs>
  <tab><template #header>SourceTree</template>
    <div><p>Select the <code class="hljs inline no-lang" v-pre>fruits.txt</code> and click on the <code class="hljs inline no-lang" v-pre>Stage Selected</code> button.</p>
<img src="/se-book/gitAndGithub/commit/images/sourcetree_2.png" height="100">
<p></p>
<p><code class="hljs inline no-lang" v-pre>fruits.txt</code> should appear in the <code class="hljs inline no-lang" v-pre>Staged files</code> panel now.</p>
<img src="/se-book/gitAndGithub/commit/images/sourcetree_3.png" height="180">
<p></p></div></tab>
  <tab><template #header>CLI</template>
    <div><p>You can use the <code class="hljs inline no-lang" v-pre>stage</code> or the <code class="hljs inline no-lang" v-pre>add</code> command (they are synonyms, <code class="hljs inline no-lang" v-pre>add</code> is the more popular choice) to stage files.</p>
<pre><code class="hljs sh" v-pre><span>git add fruits.txt
</span><span>git status
</span></code></pre><p><span><span aria-hidden="true" class="fas fa-arrow-down"></span></span></p>
<pre><code class="hljs sh" v-pre><span><span class="hljs-comment"># On branch master</span>
</span><span><span class="hljs-comment">#</span>
</span><span><span class="hljs-comment"># Initial commit</span>
</span><span><span class="hljs-comment">#</span>
</span><span><span class="hljs-comment"># Changes to be committed:</span>
</span><span><span class="hljs-comment">#   (use &quot;git rm --cached &lt;file&gt;...&quot; to unstage)</span>
</span><span><span class="hljs-comment">#</span>
</span><span><span class="hljs-comment">#       new file:   fruits.txt</span>
</span><span><span class="hljs-comment">#</span>
</span></code></pre></div></tab></tabs>
<p><strong>4. Commit</strong> the staged version of <code class="hljs inline no-lang" v-pre>fruits.txt</code>.</p>
<tabs>
  <tab><template #header>SourceTree</template>
    <div><p>Click the <code class="hljs inline no-lang" v-pre>Commit</code> button, enter a commit message e.g. <code class="hljs inline no-lang" v-pre>add fruits.txt</code> into the text box, and click <code class="hljs inline no-lang" v-pre>Commit</code>.</p>
<img src="/se-book/gitAndGithub/commit/images/sourcetree_4.png" height="300">
<p></p></div></tab>
  <tab><template #header>CLI</template>
    <div><p>Use the <code class="hljs inline no-lang" v-pre>commit</code> command to commit. The <code class="hljs inline no-lang" v-pre>-m</code> switch is used to specify the commit message.</p>
<pre><code class="hljs sh" v-pre><span>git commit -m <span class="hljs-string">&quot;Add fruits.txt&quot;</span>
</span></code></pre><p>You can use the <code class="hljs inline no-lang" v-pre>log</code> command to see the commit history.</p>
<pre><code class="hljs sh" v-pre><span>git <span class="hljs-built_in">log</span>
</span></code></pre><p><span><span aria-hidden="true" class="fas fa-arrow-down"></span></span></p>
<pre><code class="hljs" v-pre><span>commit 8fd30a6910efb28bb258cd01be93e481caeab846
</span><span>Author: … &lt; … @... &gt;
</span><span>Date:   Wed Jul 5 16:06:28 2017 +0800
</span><span>
</span><span>  Add fruits.txt
</span></code></pre></div></tab></tabs>
<p><strong>Note the existence of something called the <code class="hljs inline no-lang" v-pre>master</code> branch.</strong> Git allows you to have multiple branches (i.e. it is a way to evolve the content in parallel) and Git auto-creates a branch named <code class="hljs inline no-lang" v-pre>master</code> on which the commits go on by default.</p>
<p><strong>5. Do a few more commits</strong>.</p>
<ol>
<li>
<p>Make some changes to <code class="hljs inline no-lang" v-pre>fruits.txt</code> (e.g. add some text and delete some text). Stage the changes, and commit the changes using the same steps you followed before. You should end up with something like this.</p>
<img src="/se-book/gitAndGithub/commit/images/sourcetree_6.png" height="180">
<p></p></li>
<li>
<p>Next, add two more files <code class="hljs inline no-lang" v-pre>colors.txt</code> and <code class="hljs inline no-lang" v-pre>shapes.txt</code> to the same working directory. Add a third commit to record the current state of the working directory.</p>
<img src="/se-book/gitAndGithub/commit/images/sourcetree_7.png" height="150">
<p></p></li></ol>
<p><strong>6. See the revision graph:</strong>  Note how commits form a path-like structure aka the <em>revision tree/graph</em>. In the revision graph, each commit is shown as linked to its 'parent' commit (i.e., the commit before it).</p>
<tabs>
  <tab><template #header>SourceTree</template>
<p>To see the revision graph, click on the <code class="hljs inline no-lang" v-pre>History</code> item on the menu on the right edge of SourceTree.</p></tab>
  <tab><template #header>CLI</template>
<p>The <code class="hljs inline no-lang" v-pre>gitk</code> command opens a rudimentary graphical view of the revision graph.</p></tab></tabs></div>
<div>
  <div><panel expanded><template #header><p><span><span aria-hidden="true" class="fas fa-paperclip"></span></span> Resources</p></template>
<ul>
<li><a href="https://learngitbranching.js.org/"><strong>Try Git</strong></a> is an online simulation/tutorial of Git basics. You can try its first few steps to solidify what you have learned in this LO.</li></ul></panel></div></div></div></div>