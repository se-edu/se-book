<div>
  <p>
    <panel src="/se-book\designFundamentals\cohesion\what\unit-inElsewhere-asFlat._include_.html" header="%%<span class='glyphicon glyphicon-education' aria-hidden='true'></span> Design → Design Fundamentals → Cohesion →
What%%"></panel>
  </p>
</div>
<p></p>
<p><span class="dimmed"><strong><span>Design → Design Fundamentals → Cohesion →
</span></strong>
  </span>
</p>
<div id="title-and-body">
  <div>
    <h4 id="how">How</h4>
  </div>
  <div id="main">
    <div>
      <p><strong>Cohesion can be present in many forms</strong>. Some examples:</p>
      <ul>
        <li>Code related to a single concept is kept together, e.g. the Student component handles everything related to students.</li>
        <li>Code that is invoked close together in time is kept together, e.g. all code related to initializing the system is kept together.</li>
        <li>Code that manipulates the same data structure is kept together, e.g. the <code>GameArchive</code> component handles everything related to the storage and retrieval of game sessions.</li>
      </ul>
      <tip-box>
        <p><span class="glyphicon glyphicon-gift" aria-hidden="true"></span> Suppose a Payroll application contains a class that deals with writing data to the database. If the class include some code to show an error dialog to the user if the database is
          unreachable, that class is not cohesive because it seems to be interacting with the user as well as the database.</p>
      </tip-box>
    </div>
    <div>
      <div>
        <panel header=":muscle: Exercises" expandable="">
          <div>
            <panel header=":lock::key: Which class is more cohesive?">
              <question has-input="true">
                <p>Compare the cohesion of the following two versions of the <code>EmailMessage</code> class. Which one is more cohesive and why?</p>
                <pre><code class="hljs java"><span class="hljs-comment">// version-1</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">EmailMessage</span> </span>{
    <span class="hljs-keyword">private</span> String sendTo;
 	  <span class="hljs-keyword">private</span> String subject;
    <span class="hljs-keyword">private</span> String message;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">EmailMessage</span><span class="hljs-params">(String sendTo, String subject, String message)</span> </span>{
        <span class="hljs-keyword">this</span>.sendTo = sendTo;
        <span class="hljs-keyword">this</span>.subject = subject;
        <span class="hljs-keyword">this</span>.message = message;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">sendMessage</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-comment">// sends message using sendTo, subject and message</span>
    }
}

<span class="hljs-comment">// version-2</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">EmailMessage</span> </span>{
    <span class="hljs-keyword">private</span> String sendTo;
    <span class="hljs-keyword">private</span> String subject;
    <span class="hljs-keyword">private</span> String message;
    <span class="hljs-keyword">private</span> String username;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">EmailMessage</span><span class="hljs-params">(String sendTo, String subject, String message)</span> </span>{
        <span class="hljs-keyword">this</span>.sendTo = sendTo;
        <span class="hljs-keyword">this</span>.subject = subject;
        <span class="hljs-keyword">this</span>.message = message;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">sendMessage</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-comment">// sends message using sendTo, subject and message</span>
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">login</span><span class="hljs-params">(String username, String password)</span> </span>{
        <span class="hljs-keyword">this</span>.username = username;
        <span class="hljs-comment">// code to login</span>
    }
}
</code></pre>
                <div slot="answer">
                  <p>Version 2 is less cohesive.</p>
                  <p>Explanation: Version 2 is handling functionality related to login, which is not directly related to the concept of ‘email message’ that the class is supposed to represent. On a related note, we can improve the cohesion of both versions
                    by removing the sendMessage functionality. Although sending message is related to emails, this class is supposed to represent an email message, not an email server.</p>
                </div>
              </question>
            </panel>
          </div>
        </panel>
      </div>
    </div>
  </div>
</div>