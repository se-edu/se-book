<p><span class="dimmed"><strong><span>Principles â†’</span></strong></span></p>
<div id="title-and-body">
<div><h4 id="dependency-inversion-principle"><span>Dependency inversion principle</span><a class="fa fa-anchor" href="#dependency-inversion-principle" onclick="event.stopPropagation()"></a></h4></div>
<div id="main">
<div>
<box type="definition" seamless>
<div><p><strong>Dependency inversion principle (DIP)</strong>:</p>
<ol>
<li>High-level modules should not depend on low-level modules. Both should depend on abstractions.</li>
<li>Abstractions should not depend on details. Details should depend on abstractions.</li></ol></div></box>
<box>
<p><span><span aria-hidden="true" class="fas fa-cube"></span></span> Example:</p>
<pic eager src="/se-book/principles/dependencyInversionPrinciple/images/payrollEmployee.png" height="130"></pic>
<p></p>
<p>In design (a), the higher level class <code class="hljs inline no-lang" v-pre>Payroll</code> depends on the lower level class <code class="hljs inline no-lang" v-pre>Employee</code>, which is a violation of DIP. In design (b), both <code class="hljs inline no-lang" v-pre>Payroll</code> and <code class="hljs inline no-lang" v-pre>Employee</code> depend on the <code class="hljs inline no-lang" v-pre>Payee</code> interface (note that inheritance is a dependency).</p>
<p>Design (b) is more flexible (and less coupled) because now the <code class="hljs inline no-lang" v-pre>Payroll</code> class need not change when the <code class="hljs inline no-lang" v-pre>Employee</code> class changes.</p></box></div>
<div>
<div><br>
<h5 id="exercises"><span><span aria-hidden="true" class="glyphicon glyphicon-question-sign"></span></span><span><span aria-hidden="true" class="glyphicon glyphicon-ok-sign"></span></span> Exercises:<a class="fa fa-anchor" href="#exercises" onclick="event.stopPropagation()"></a></h5>
<div><div><panel><template #header><p><span><span aria-hidden="true" class="glyphicon glyphicon-question-sign"></span></span><span><span aria-hidden="true" class="glyphicon glyphicon-ok-sign"></span></span> Which of these statements is true about the Dependency Inversion Principle?</p></template>
<p>Which of these statements is true about the Dependency Inversion Principle?</p>
<ul class="contains-task-list">
<li class="task-list-item enabled"><input class="task-list-item-checkbox" type="checkbox"> a. It can complicate the design/implementation by introducing extra abstractions, but it has some benefits.</li>
<li class="task-list-item enabled"><input class="task-list-item-checkbox" type="checkbox"> b. It is often used during testing to replace dependencies with mocks.</li>
<li class="task-list-item enabled"><input class="task-list-item-checkbox" type="checkbox"> c. It reduces dependencies in a design.</li>
<li class="task-list-item enabled"><input class="task-list-item-checkbox" type="checkbox"> d. It advocates making higher level classes depend on lower level classes.</li></ul>
<panel type="seamless" minimized><template #header><p><span><span aria-hidden="true" class="glyphicon glyphicon-ok-sign"></span></span> Answer</p></template>
<p>a</p>
<p>Explanation: Replacing dependencies with mocks is Dependency Injection, not DIP. DIP does not reduce dependencies, rather, it changes the direction of dependencies. Yes, it can introduce extra abstractions but often the benefit can outweigh the extra complications.</p></panel></panel></div></div></div></div></div></div>